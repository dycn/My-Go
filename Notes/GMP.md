## GMP

#### 拓扑图

                    +------------------------+
                ->  |  global goroutine List |  ->
                    +------------------------+

                                   +---+    +---+    +---+
                                   | . |    |   |    | G |
                                   | . |    | . |    |---|
                    +--            | . |    | . |    | G |
                    |   goroutine  |---|    | . |    |---|           P的local队列
                    |              | G |    |   |    | G |
                    |              |-—-|    |-—-|    |-—-|
                    |              | G |    | G |    | G |
        gorountine  |              +-—-+    +-—-+    +-—-+
          调度器     |                |        |        |
                    |   逻辑的        |        |        |
                    |   processor    P        P        P            GOMAXPROCS个
                    |
                +-- |-- 物理上(即线程)        M      M      M
                |   |  User-level Thread
                |   +--
                |
                +------------------------------------------
                |
操作系统调度器    |       Kernel Thread
                |
                +------------------------------------------
                |                  +-----+  +-----+
                |    物理多核CPU    | CPU1|  | CPU2|   ...
                |                  +-----+  +-----+
                +------------------------------------------


#### 协程调度的优先级与顺序
1. 本地goroutine队列
    - 优先运行最近加入的goroutine
    - 然后运行较早加入的goroutine
2. 全局goroutine队列
    - 
 
P<sub>0</sub>      
>>>